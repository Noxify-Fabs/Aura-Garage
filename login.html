<!DOCTYPE html>
<html lang="id" class="scroll-smooth">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Login — Aura Garage</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
  <link rel="stylesheet" href="css/style.css">
  <script>
    tailwind.config = {
      theme: {
        extend: {
          animation: {
            'fade-in': 'fadeIn 0.5s ease-in-out',
            'slide-up': 'slideUp 0.5s ease-out',
          },
          keyframes: {
            fadeIn: {
              '0%': { opacity: '0' },
              '100%': { opacity: '1' },
            },
            slideUp: {
              '0%': { transform: 'translateY(20px)', opacity: '0' },
              '100%': { transform: 'translateY(0)', opacity: '1' },
            },
          },
        },
      },
    }
  </script>
</head>

<body class="bg-gradient-to-br from-gray-900 via-gray-800 to-gray-900 text-white flex justify-center items-center min-h-screen p-4">
  <div class="w-full max-w-md animate-slide-up">
    <div class="bg-gray-800/80 backdrop-blur-sm rounded-2xl overflow-hidden shadow-xl border border-gray-700/50 transform transition-all duration-300 hover:shadow-2xl hover:shadow-cyan-500/20">
      <!-- Header -->
      <div class="p-8 text-center">
        <div class="w-20 h-20 mx-auto mb-4 rounded-full bg-gradient-to-r from-cyan-500 to-blue-600 p-1">
          <div class="w-full h-full bg-gray-800 rounded-full flex items-center justify-center">
            <i id="formIcon" class="fas fa-user-shield text-3xl text-cyan-400"></i>
          </div>
        </div>
        <h1 id="formTitle" class="text-3xl font-bold bg-gradient-to-r from-cyan-400 to-blue-500 bg-clip-text text-transparent">
          Selamat Datang Kembali
        </h1>
        <p id="formSubtitle" class="text-gray-400 mt-2">Silakan masuk untuk melanjutkan</p>
      </div>

      <!-- Login Form -->
      <form id="loginForm" class="px-8 pb-8 space-y-5">
        <!-- Username -->
        <div class="space-y-1">
          <label for="username" class="block text-sm font-medium text-gray-300">Username</label>
          <div class="relative">
            <div class="absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none">
              <i class="fas fa-user text-gray-500"></i>
            </div>
            <input id="username" name="username" type="text" required 
              class="w-full pl-10 pr-4 py-3 bg-gray-700/50 border border-gray-600 rounded-lg text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-cyan-500 focus:border-transparent transition duration-200"
              placeholder="Masukkan username">
          </div>
          <p id="usernameError" class="text-red-400 text-xs h-4"></p>
        </div>

        <!-- Email -->
        <div class="space-y-1">
          <label for="email" class="block text-sm font-medium text-gray-300">Email</label>
          <div class="relative">
            <div class="absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none">
              <i class="fas fa-envelope text-gray-500"></i>
            </div>
            <input id="email" name="email" type="email" required 
              class="w-full pl-10 pr-4 py-3 bg-gray-700/50 border border-gray-600 rounded-lg text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-cyan-500 focus:border-transparent transition duration-200"
              placeholder="Masukkan email">
          </div>
          <p id="emailError" class="text-red-400 text-xs h-4"></p>
        </div>

        <!-- Password -->
        <div class="space-y-1">
          <div class="flex justify-between items-center">
            <label for="password" class="block text-sm font-medium text-gray-300">Password</label>
            <a href="#" class="text-xs text-cyan-400 hover:text-cyan-300 transition-colors">Lupa password?</a>
          </div>
          <div class="relative">
            <div class="absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none">
              <i class="fas fa-lock text-gray-500"></i>
            </div>
            <input id="password" name="password" type="password" required 
              class="w-full pl-10 pr-10 py-3 bg-gray-700/50 border border-gray-600 rounded-lg text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-cyan-500 focus:border-transparent transition duration-200"
              placeholder="••••••••">
            <button type="button" id="togglePassword" class="absolute inset-y-0 right-0 pr-3 flex items-center">
              <i class="far fa-eye text-gray-400 hover:text-gray-300 cursor-pointer"></i>
            </button>
          </div>
          <p id="passwordError" class="text-red-400 text-xs h-4"></p>
        </div>

        <!-- Remember Me & Forgot -->
        <div class="flex items-center justify-between">
          <div class="flex items-center">
            <input id="remember" name="remember" type="checkbox" 
              class="h-4 w-4 text-cyan-500 focus:ring-cyan-500 border-gray-600 rounded bg-gray-700">
            <label for="remember" class="ml-2 block text-sm text-gray-300">
              Ingat saya
            </label>
          </div>
        </div>

        <!-- Submit Button -->
        <div class="pt-2">
          <button type="submit" id="submitBtn"
            class="w-full flex justify-center items-center py-3 px-4 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-gradient-to-r from-cyan-500 to-blue-600 hover:from-cyan-600 hover:to-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-cyan-500 transition-all duration-200 transform hover:scale-[1.02] active:scale-[0.98]">
            <span id="btnText">Masuk</span>
            <div id="spinner" class="ml-2 hidden">
              <i class="fas fa-spinner fa-spin"></i>
            </div>
          </button>
        </div>
      </form>

      <!-- Sign Up Form (Hidden by default) -->
      <form id="signupForm" class="px-8 pb-8 space-y-5 hidden">
        <!-- Full Name -->
        <div class="space-y-1">
          <label for="fullname" class="block text-sm font-medium text-gray-300">Nama Lengkap</label>
          <div class="relative">
            <div class="absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none">
              <i class="fas fa-user text-gray-500"></i>
            </div>
            <input id="fullname" name="fullname" type="text" required 
              class="w-full pl-10 pr-4 py-3 bg-gray-700/50 border border-gray-600 rounded-lg text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-cyan-500 focus:border-transparent transition duration-200"
              placeholder="Masukkan nama lengkap">
          </div>
          <p id="fullnameError" class="text-red-400 text-xs h-4"></p>
        </div>

        <!-- Username -->
        <div class="space-y-1">
          <label for="signupUsername" class="block text-sm font-medium text-gray-300">Username</label>
          <div class="relative">
            <div class="absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none">
              <i class="fas fa-user text-gray-500"></i>
            </div>
            <input id="signupUsername" name="signupUsername" type="text" required 
              class="w-full pl-10 pr-4 py-3 bg-gray-700/50 border border-gray-600 rounded-lg text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-cyan-500 focus:border-transparent transition duration-200"
              placeholder="Buat username">
          </div>
          <p id="signupUsernameError" class="text-red-400 text-xs h-4"></p>
        </div>

        <!-- Email -->
        <div class="space-y-1">
          <label for="signupEmail" class="block text-sm font-medium text-gray-300">Email</label>
          <div class="relative">
            <div class="absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none">
              <i class="fas fa-envelope text-gray-500"></i>
            </div>
            <input id="signupEmail" name="signupEmail" type="email" required 
              class="w-full pl-10 pr-4 py-3 bg-gray-700/50 border border-gray-600 rounded-lg text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-cyan-500 focus:border-transparent transition duration-200"
              placeholder="Masukkan email">
          </div>
          <p id="signupEmailError" class="text-red-400 text-xs h-4"></p>
        </div>

        <!-- Password -->
        <div class="space-y-1">
          <label for="signupPassword" class="block text-sm font-medium text-gray-300">Password</label>
          <div class="relative">
            <div class="absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none">
              <i class="fas fa-lock text-gray-500"></i>
            </div>
            <input id="signupPassword" name="signupPassword" type="password" required 
              class="w-full pl-10 pr-10 py-3 bg-gray-700/50 border border-gray-600 rounded-lg text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-cyan-500 focus:border-transparent transition duration-200"
              placeholder="Buat password">
            <button type="button" id="toggleSignupPassword" class="absolute inset-y-0 right-0 pr-3 flex items-center">
              <i class="far fa-eye text-gray-400 hover:text-gray-300 cursor-pointer"></i>
            </button>
          </div>
          <p id="signupPasswordError" class="text-red-400 text-xs h-4"></p>
        </div>

        <!-- Confirm Password -->
        <div class="space-y-1">
          <label for="confirmPassword" class="block text-sm font-medium text-gray-300">Konfirmasi Password</label>
          <div class="relative">
            <div class="absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none">
              <i class="fas fa-lock text-gray-500"></i>
            </div>
            <input id="confirmPassword" name="confirmPassword" type="password" required 
              class="w-full pl-10 pr-10 py-3 bg-gray-700/50 border border-gray-600 rounded-lg text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-cyan-500 focus:border-transparent transition duration-200"
              placeholder="Konfirmasi password">
            <button type="button" id="toggleConfirmPassword" class="absolute inset-y-0 right-0 pr-3 flex items-center">
              <i class="far fa-eye text-gray-400 hover:text-gray-300 cursor-pointer"></i>
            </button>
          </div>
          <p id="confirmPasswordError" class="text-red-400 text-xs h-4"></p>
        </div>

        <!-- Terms and Conditions -->
        <div class="flex items-center">
          <input id="terms" name="terms" type="checkbox" required
            class="h-4 w-4 text-cyan-500 focus:ring-cyan-500 border-gray-600 rounded bg-gray-700">
          <label for="terms" class="ml-2 block text-sm text-gray-300">
            Saya setuju dengan <a href="#" class="text-cyan-400 hover:text-cyan-300">syarat dan ketentuan</a>
          </label>
        </div>
        <p id="termsError" class="text-red-400 text-xs h-4"></p>

        <!-- Submit Button -->
        <div class="pt-2">
          <button type="submit" id="signupSubmitBtn"
            class="w-full flex justify-center items-center py-3 px-4 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-gradient-to-r from-cyan-500 to-blue-600 hover:from-cyan-600 hover:to-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-cyan-500 transition-all duration-200 transform hover:scale-[1.02] active:scale-[0.98]">
            <span id="signupBtnText">Daftar</span>
            <div id="signupSpinner" class="ml-2 hidden">
              <i class="fas fa-spinner fa-spin"></i>
            </div>
          </button>
        </div>
      </form>

      <!-- Toggle Link -->
      <div class="px-8 py-4 bg-gray-900/50 text-center border-t border-gray-700/50">
        <p id="toggleText" class="text-sm text-gray-400">
          Belum punya akun? 
          <a href="#" id="toggleLink" class="font-medium text-cyan-400 hover:text-cyan-300 transition-colors">
            Daftar sekarang
          </a>
        </p>
      </div>
    </div>

    <!-- Result Message -->
    <div id="result" class="mt-4 text-center text-sm">
      <!-- Messages will be shown here -->
    </div>
  </div>

  <script>
    document.addEventListener('DOMContentLoaded', function() {
      // Elements
      const loginForm = document.getElementById('loginForm');
      const signupForm = document.getElementById('signupForm');
      const result = document.getElementById('result');
      const submitBtn = document.getElementById('submitBtn');
      const btnText = document.getElementById('btnText');
      const spinner = document.getElementById('spinner');
      const togglePassword = document.getElementById('togglePassword');
      const passwordInput = document.getElementById('password');
      
      // Sign up elements
      const signupSubmitBtn = document.getElementById('signupSubmitBtn');
      const signupBtnText = document.getElementById('signupBtnText');
      const signupSpinner = document.getElementById('signupSpinner');
      const toggleSignupPassword = document.getElementById('toggleSignupPassword');
      const signupPasswordInput = document.getElementById('signupPassword');
      const toggleConfirmPassword = document.getElementById('toggleConfirmPassword');
      const confirmPasswordInput = document.getElementById('confirmPassword');
      
      // Toggle elements
      const toggleLink = document.getElementById('toggleLink');
      const formTitle = document.getElementById('formTitle');
      const formSubtitle = document.getElementById('formSubtitle');
      const formIcon = document.getElementById('formIcon');
      const toggleText = document.getElementById('toggleText');
      
      let isLoginMode = true;
      
      // Toggle between login and signup
      toggleLink.addEventListener('click', function(e) {
        e.preventDefault();
        isLoginMode = !isLoginMode;
        
        if (isLoginMode) {
          // Switch to login mode
          loginForm.classList.remove('hidden');
          signupForm.classList.add('hidden');
          formTitle.textContent = 'Selamat Datang Kembali';
          formSubtitle.textContent = 'Silakan masuk untuk melanjutkan';
          formIcon.className = 'fas fa-user-shield text-3xl text-cyan-400';
          toggleText.innerHTML = 'Belum punya akun? <a href="#" id="toggleLink" class="font-medium text-cyan-400 hover:text-cyan-300 transition-colors">Daftar sekarang</a>';
        } else {
          // Switch to signup mode
          loginForm.classList.add('hidden');
          signupForm.classList.remove('hidden');
          formTitle.textContent = 'Buat Akun Baru';
          formSubtitle.textContent = 'Daftar untuk bergabung dengan kami';
          formIcon.className = 'fas fa-user-plus text-3xl text-cyan-400';
          toggleText.innerHTML = 'Sudah punya akun? <a href="#" id="toggleLink" class="font-medium text-cyan-400 hover:text-cyan-300 transition-colors">Masuk sekarang</a>';
        }
        
        // Re-attach event listener to new toggle link
        document.getElementById('toggleLink').addEventListener('click', arguments.callee);
        
        // Clear all error messages
        document.querySelectorAll('[id$="Error"]').forEach(el => el.textContent = '');
      });
      
      // Toggle password visibility for login
      togglePassword.addEventListener('click', function() {
        const type = passwordInput.getAttribute('type') === 'password' ? 'text' : 'password';
        passwordInput.setAttribute('type', type);
        this.querySelector('i').classList.toggle('fa-eye');
        this.querySelector('i').classList.toggle('fa-eye-slash');
      });
      
      // Toggle password visibility for signup
      toggleSignupPassword.addEventListener('click', function() {
        const type = signupPasswordInput.getAttribute('type') === 'password' ? 'text' : 'password';
        signupPasswordInput.setAttribute('type', type);
        this.querySelector('i').classList.toggle('fa-eye');
        this.querySelector('i').classList.toggle('fa-eye-slash');
      });
      
      // Toggle confirm password visibility
      toggleConfirmPassword.addEventListener('click', function() {
        const type = confirmPasswordInput.getAttribute('type') === 'password' ? 'text' : 'password';
        confirmPasswordInput.setAttribute('type', type);
        this.querySelector('i').classList.toggle('fa-eye');
        this.querySelector('i').classList.toggle('fa-eye-slash');
      });

      // Login form validation
      function validateLoginForm(username, email, password) {
        let isValid = true;
        
        // Reset errors
        document.querySelectorAll('[id$="Error"]').forEach(el => el.textContent = '');
        
        // Username validation
        if (!username) {
          document.getElementById('usernameError').textContent = 'Username harus diisi';
          isValid = false;
        } else if (username.length < 3) {
          document.getElementById('usernameError').textContent = 'Username minimal 3 karakter';
          isValid = false;
        }
        
        // Email validation
        const emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
        if (!email) {
          document.getElementById('emailError').textContent = 'Email harus diisi';
          isValid = false;
        } else if (!emailRegex.test(email)) {
          document.getElementById('emailError').textContent = 'Format email tidak valid';
          isValid = false;
        }
        
        // Password validation
        if (!password) {
          document.getElementById('passwordError').textContent = 'Password harus diisi';
          isValid = false;
        } else if (password.length < 6) {
          document.getElementById('passwordError').textContent = 'Password minimal 6 karakter';
          isValid = false;
        }
        
        return isValid;
      }
      
      // Sign up form validation
      function validateSignupForm(fullname, username, email, password, confirmPassword, terms) {
        let isValid = true;
        
        // Reset errors
        document.querySelectorAll('[id$="Error"]').forEach(el => el.textContent = '');
        
        // Full name validation
        if (!fullname) {
          document.getElementById('fullnameError').textContent = 'Nama lengkap harus diisi';
          isValid = false;
        } else if (fullname.length < 3) {
          document.getElementById('fullnameError').textContent = 'Nama lengkap minimal 3 karakter';
          isValid = false;
        }
        
        // Username validation
        if (!username) {
          document.getElementById('signupUsernameError').textContent = 'Username harus diisi';
          isValid = false;
        } else if (username.length < 3) {
          document.getElementById('signupUsernameError').textContent = 'Username minimal 3 karakter';
          isValid = false;
        }
        
        // Email validation
        const emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
        if (!email) {
          document.getElementById('signupEmailError').textContent = 'Email harus diisi';
          isValid = false;
        } else if (!emailRegex.test(email)) {
          document.getElementById('signupEmailError').textContent = 'Format email tidak valid';
          isValid = false;
        }
        
        // Password validation
        if (!password) {
          document.getElementById('signupPasswordError').textContent = 'Password harus diisi';
          isValid = false;
        } else if (password.length < 6) {
          document.getElementById('signupPasswordError').textContent = 'Password minimal 6 karakter';
          isValid = false;
        }
        
        // Confirm password validation
        if (!confirmPassword) {
          document.getElementById('confirmPasswordError').textContent = 'Konfirmasi password harus diisi';
          isValid = false;
        } else if (password !== confirmPassword) {
          document.getElementById('confirmPasswordError').textContent = 'Password tidak cocok';
          isValid = false;
        }
        
        // Terms validation
        if (!terms) {
          document.getElementById('termsError').textContent = 'Anda harus menyetujui syarat dan ketentuan';
          isValid = false;
        }
        
        return isValid;
      }

      // Show result message
      function showMessage(message, isError = false) {
        result.innerHTML = '';
        const messageEl = document.createElement('div');
        messageEl.className = `p-3 rounded-lg ${isError ? 'bg-red-500/20 text-red-400' : 'bg-green-500/20 text-green-400'} animate-fade-in`;
        messageEl.innerHTML = `
          <i class="${isError ? 'fas fa-exclamation-circle' : 'fas fa-check-circle'} mr-2"></i>
          ${message}
        `;
        result.appendChild(messageEl);
        
        // Auto-hide after 5 seconds
        setTimeout(() => {
          messageEl.style.opacity = '0';
          messageEl.style.transition = 'opacity 1s';
          setTimeout(() => result.removeChild(messageEl), 1000);
        }, 5000);
      }

      // Handle login form submission
      loginForm.addEventListener('submit', async function(e) {
        e.preventDefault();
        
        const username = document.getElementById('username').value.trim();
        const email = document.getElementById('email').value.trim();
        const password = passwordInput.value.trim();
        const rememberMe = document.getElementById('remember').checked;
        
        // Validate form
        if (!validateLoginForm(username, email, password)) {
          return;
        }
        
        // Show loading state
        submitBtn.disabled = true;
        btnText.textContent = 'Memproses...';
        spinner.classList.remove('hidden');
        
        try {
          // Simulate API call
          await new Promise(resolve => setTimeout(resolve, 1500));
          
          // Save to localStorage
          if (rememberMe) {
            localStorage.setItem('rememberedUser', JSON.stringify({ username, email }));
          } else {
            localStorage.removeItem('rememberedUser');
          }
          
          localStorage.setItem('isLoggedIn', 'true');
          localStorage.setItem('username', username);
          localStorage.setItem('email', email);
          
          // Show success message
          showMessage('Login berhasil! Mengarahkan ke halaman utama...', false);
          
          // Redirect after delay
          setTimeout(() => {
            window.location.href = 'index.html';
          }, 1500);
          
        } catch (error) {
          console.error('Login error:', error);
          showMessage('Terjadi kesalahan saat login. Silakan coba lagi.', true);
        } finally {
          // Reset button state
          submitBtn.disabled = false;
          btnText.textContent = 'Masuk';
          spinner.classList.add('hidden');
        }
      });
      
      // Handle signup form submission
      signupForm.addEventListener('submit', async function(e) {
        e.preventDefault();
        
        const fullname = document.getElementById('fullname').value.trim();
        const username = document.getElementById('signupUsername').value.trim();
        const email = document.getElementById('signupEmail').value.trim();
        const password = signupPasswordInput.value.trim();
        const confirmPassword = confirmPasswordInput.value.trim();
        const terms = document.getElementById('terms').checked;
        
        // Validate form
        if (!validateSignupForm(fullname, username, email, password, confirmPassword, terms)) {
          return;
        }
        
        // Show loading state
        signupSubmitBtn.disabled = true;
        signupBtnText.textContent = 'Mendaftar...';
        signupSpinner.classList.remove('hidden');
        
        try {
          // Simulate API call
          await new Promise(resolve => setTimeout(resolve, 2000));
          
          // Save to localStorage (in real app, this would be sent to server)
          localStorage.setItem('user_' + username, JSON.stringify({
            fullname, username, email, password, createdAt: new Date().toISOString()
          }));
          
          // Show success message
          showMessage('Pendaftaran berhasil! Silakan login dengan akun baru Anda.', false);
          
          // Switch to login mode after successful signup
          setTimeout(() => {
            isLoginMode = false; // This will trigger the toggle to login mode
            toggleLink.click();
            
            // Pre-fill login form with new credentials
            document.getElementById('username').value = username;
            document.getElementById('email').value = email;
          }, 1500);
          
        } catch (error) {
          console.error('Signup error:', error);
          showMessage('Terjadi kesalahan saat mendaftar. Silakan coba lagi.', true);
        } finally {
          // Reset button state
          signupSubmitBtn.disabled = false;
          signupBtnText.textContent = 'Daftar';
          signupSpinner.classList.add('hidden');
        }
      });
      
      // Check for remembered user
      const rememberedUser = localStorage.getItem('rememberedUser');
      if (rememberedUser) {
        try {
          const { username, email } = JSON.parse(rememberedUser);
          document.getElementById('username').value = username || '';
          document.getElementById('email').value = email || '';
          document.getElementById('remember').checked = true;
        } catch (e) {
          console.error('Error parsing remembered user:', e);
        }
      }
    });
  </script>

  <style>
    /* Custom scrollbar */
    ::-webkit-scrollbar {
      width: 8px;
      height: 8px;
    }
    
    ::-webkit-scrollbar-track {
      background: rgba(31, 41, 55, 0.5);
      border-radius: 10px;
    }
    
    ::-webkit-scrollbar-thumb {
      background: #0ea5e9;
      border-radius: 10px;
    }
    
    ::-webkit-scrollbar-thumb:hover {
      background: #0284c7;
    }
    
    /* Animations */
    @keyframes fadeIn {
      from { opacity: 0; }
      to { opacity: 1; }
    }
    
    @keyframes slideUp {
      from { 
        transform: translateY(20px);
        opacity: 0;
      }
      to { 
        transform: translateY(0);
        opacity: 1;
      }
    }
    
    /* Custom styles */
    .animate-fade-in {
      animation: fadeIn 0.3s ease-in-out;
    }
    
    /* Glow effect on focus */
    input:focus, button:focus {
      box-shadow: 0 0 0 3px rgba(14, 165, 233, 0.3);
    }
    
    /* Smooth transitions */
    * {
      transition: all 0.2s ease-in-out;
    }
  </style>
</body>

</html>
